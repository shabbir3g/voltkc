var EqualBlocksHeight=function(elements,options){"use strict";this.elements=elements;this.settings=$.extend({splitBy:false,isResizable:true,isFullLoaded:false,isBoxSized:false},options||{});this.init();};EqualBlocksHeight.prototype=(function(){"use strict";var init=function(){var root=this,win$=$(window);if(this.settings.isResizable){var currentW=win$.width();win$.on('resize',function(){var resizeW=$(this).width();if(resizeW!==currentW){root.elements.css('height','');initEqualization.call(this,root);currentW=resizeW;}});}
if(this.settings.isFullLoaded){win$.on('load',function(){root.elements.css('height','');initEqualization.call(this,root);});}
initEqualization.call(this,root);},initEqualization=function(thisObj){if(!thisObj.settings.splitBy){equalizeHeightOfElements.call(thisObj,thisObj.elements);}else{var elementsSize=thisObj.elements.size(),fixedLimit=thisObj.settings.splitBy,floatLimit=0;while(elementsSize>0){var collection=thisObj.elements.slice(floatLimit,fixedLimit);equalizeHeightOfElements.call(thisObj,collection);floatLimit+=thisObj.settings.splitBy;fixedLimit+=thisObj.settings.splitBy;elementsSize-=thisObj.settings.splitBy;}}},equalizeHeightOfElements=function(elements){var elementsMaxHeight=getMaxHeightOfElements.call(this,elements);setHeightOfElements.call(this,elements,elementsMaxHeight);},getMaxHeightOfElements=function(elements){var maxOuterHeight=0;elements.each(function(){var element=$(this),elementHeight=element.outerHeight();if(elementHeight>maxOuterHeight){maxOuterHeight=elementHeight;}});return maxOuterHeight;},setHeightOfElements=function(elements,elementsMaxHeight){var boxSized=this.settings.isBoxSized;elements.each(function(){var equalHeightsElement=$(this),elementHeight=equalHeightsElement.height(),elementOuterHeight=equalHeightsElement.outerHeight(),elementDiffHeight=elementOuterHeight- elementHeight,elementToHeight=(elementsMaxHeight)+(-elementHeight- elementDiffHeight);if(boxSized){var totalHeight=elementHeight+ elementToHeight+ elementDiffHeight;equalHeightsElement.css('height',totalHeight);}else{var totalHeight=elementHeight+ elementToHeight;equalHeightsElement.css('height',totalHeight);}});};return{init:init};}());